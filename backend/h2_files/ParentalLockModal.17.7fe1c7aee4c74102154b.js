(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1904:function(e,t,n){var a=n(1905),i=n(75),o="string"==typeof a?[[e.i,a,""]]:a;(t=e.exports=a.locals||{})._getContent=function(){return o},t._getCss=function(){return""+a},t._updateCss=function(t){o="string"==typeof(a=t)?[[e.i,a,""]]:a},t._insertCss=function(e){return i(o,e)}},1905:function(e,t,n){(t=n(72)(!1)).push([e.i,'.parental-lock-modal{position:fixed;width:100%;height:100%;background:rgba(23,23,23,0.5);margin:0;top:0;left:0;z-index:1000000;-webkit-transition:all 0.5s ease 1s;-o-transition:all 0.5s ease 1s;transition:all 0.5s ease 1s}.parental-lock-modal .modal-base{padding:0;height:auto}@media only screen and (max-width: 479px){.parental-lock-modal>.generic-modal .modal-base{width:100%}.parental-lock-modal>.generic-modal .modal-base .modal-body{padding:21px 17px 33px}}@media only screen and (min-width: 480px){.parental-lock-modal>.generic-modal .modal-base{width:460px}}.parental-lock-modal.showModal{display:table}.parental-lock-modal.hideModal{display:none}.parental-lock-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.parental-lock-container .lock-icon{height:66px;width:auto}.parental-lock-container .title{margin-top:18px;font-weight:500;font-size:18px;line-height:24px;letter-spacing:-0.1px;color:var(--TEXT_COLOR_L3)}.parental-lock-container .subtitle{margin:6px 0 10px;font-weight:normal;font-size:14px;line-height:24px;text-align:center;letter-spacing:-0.1px;color:#fff;opacity:0.6}.parental-lock-container .forgot-pin-link{margin-top:20px;font-size:14px}.parental-lock-container .error-container{color:#d50000;font-size:14px;margin-top:20px}.parental-lock-container .submit-button{font-size:14px;font-weight:500;color:#fff;padding:15px 18px 15px;border-radius:3px;text-align:center;text-transform:uppercase;background:var(--BRAND_BLUE);border:none;outline:0;outline-color:transparent;position:relative;outline:none !important;width:100%;height:49px;padding:15px 18px 15px;margin-top:20px}.parental-lock-container .submit-button.loader{pointer-events:none}.parental-lock-container .submit-button.loader:before{content:"";display:block;position:absolute;top:0;left:0;bottom:0;right:0;background-color:var(--BRAND_BLUE);border-radius:3px}.parental-lock-container .submit-button.loader:after{-webkit-animation:hs-spin 800ms linear infinite;-o-animation:hs-spin 800ms linear infinite;animation:hs-spin 800ms linear infinite;border-radius:50%;-webkit-transform:translateX(-50%);-o-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border:3px solid #fff;border-right-color:transparent;border-bottom-color:transparent;content:"";height:21px;left:50%;top:50%;margin-top:-10.5px;margin-left:-10.5px;position:absolute;width:21px}.parental-lock-container .submit-button:disabled{opacity:0.4;cursor:not-allowed}.parental-lock-container .submit-button.grey-btn{color:#fff;border:none}\n',""]),e.exports=t},2040:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n.n(a),o=n(9),r=n.n(o),l=n(94),s=n.n(l),c=n(11),p=n(84),d=n(22),u=n(2),b=n.n(u),f=n(10),m=n.n(f),g=n(13),_=n.n(g),k=n(0),h=n.n(k),v=n(50),x=n(8),O=n.n(x),E=n(210),S=n(7);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w,T,N={verifyPin:function(){return{remote:(e=b()(h.a.mark((function e(t,a){var i,o,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.getUserToken();case 2:return e.t0=e.sent,e.t1=S.a.getDeviceID(),e.t2=S.a.generateUUID(),i={userIdentity:e.t0,deviceId:e.t1,uuid:e.t2},o={profile:"ADULT"},e.next=9,Promise.resolve().then(n.t.bind(null,20,7));case 9:return r=e.sent,e.next=12,r.default.restCall("verifyPin",i,a,y(y({},o),{},{tamperedTokenRedirect:!0}));case 12:return l=e.sent,e.abrupt("return",Promise.resolve(l));case 14:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)}),local:function(){return null},loading:E.a.parentalPinInitiated,success:E.a.parentalPinSuccess,error:E.a.parentalPinError};var e}},I=n(27),L=n(114),A=n(1),C=A.f.LOCAL_STORAGE_KEYS.PARENTAL_SESSION_TIMEDOUT,R=function(){function e(){m()(this,e),this.bindAction(d.a.setParentalLockModalVisibility,this.setParentalLockModalVisibility),this.bindActions(E.a),this.exportAsync(N),this.verifyPinData={loading:!1,success:!1,data:null,error:null},this.pin="",this.parentalPinSubmit={loading:!1,error:null}}var t;return _()(e,[{key:"setPin",value:function(e){this.pin=e}},{key:"parentalPinInitiated",value:function(){this.parentalPinSubmit={loading:!0,error:null}}},{key:"parentalPinSuccess",value:function(){var e=p.a.getState().parentalLockModal;this.parentalPinSubmit={loading:!1,error:null},Object(L.b)(),I.a.fireSubmittedKeyEvent("success",e.source),d.a.setParentalLockModalVisibility(!1,e.source)}},{key:"parentalPinError",value:function(e){var t=p.a.getState().parentalLockModal,n=e.errorCode,a=e.errorMessageV3;this.parentalPinSubmit={loading:!1,error:a},I.a.fireSubmittedKeyEvent(n,t.source),d.a.handleInvalidTokenIfApplicable({errorCode:n}),"ERR_UM_071"===n&&d.a.setParentalLockModalVisibility(!1,t.source)}},{key:"setParentalLockModalVisibility",value:function(e){var t=e.parentalLockModalVisible;localStorage.setItem(C,t),t||(this.parentalPinSubmit={loading:!1,error:null},this.pin="")}},{key:"verifyPin",value:(t=b()(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getInstance().verifyPin(t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),M=v.a.createStore(R,"ParentalLockModalStore"),j=n(112),D=n(19),U=n.n(D),K=(n(32),n(42)),V=n.n(K),G=n(53),z=n.n(G),X=n(18),B=n(1904),F=n.n(B),Y=n(272),H=n(1273),J=n(14),W=n(3),Z=n(106),q=n(34),Q=n(29),$=n(184),ee=V()(F.a)((function(e){var t,n=e.globalStore,a=e.globalAction,r=e.parentalLockAction,l=e.parentalLockStore,s=n.loginState,c=n.parentalLockModal,p=a.setParentalLockModalVisibility,d=r.verifyPin,u=r.setPin,b=l.pin,f=l.parentalPinSubmit,m=Object(o.useState)(!1),g=U()(m,2),_=g[0],k=g[1],h=Object(o.useState)(!0),v=U()(h,2),x=v[0],O=v[1],E=z()("submit-button",{loader:f.loading}),S=A.f.ACCOUNT_SETTINGS_ROUTES,P=S.ACCOUNT_SETTINGS,y=S.PARENTAL_LOCK_SETTINGS;Object(o.useEffect)((function(){var e=W.a.configuration.PARENTAL_LOCK,t=(e=void 0===e?{SESSION_TIME:1800}:e).SESSION_TIME,n=A.f.LOCAL_STORAGE_KEYS.LAST_SESSION_TIME,a=parseInt(localStorage.getItem(n),10),i=a&&((new Date).getTime()-a)/1e3,o=q.a.getUserProfile()!==Q.d.KIDS;Object(L.a)()&&o&&s&&(!a||i>t)&&p(!0)}),[s]),Object(o.useEffect)((function(){c.visible&&I.a.fireViewedParentalLockEvent(c.source)}),[c.visible]);var N=function(e){e.length>=4?(u(e),O(!1)):O(!0)},C=function(){J.a.isOnlyDigitsString(b)?(k(!1),c.source===A.f.PARENTAL_LOCK_PIN_SOURCE.EXIT_KIDS_MODE?q.a.switchProfileEvents.trigger("parentalLockExitKidsMode",b):d({pin:b})):k(!0)};return window.location.pathname.includes(P)?null:i()("div",{className:z()("parental-lock-modal",c.visible?"showModal":"hideModal")},void 0,i()(Y.a,{modalContent:c.visible?i()("div",{className:"parental-lock-container"},void 0,w||(w=i()("img",{className:"lock-icon",src:"https://secure-media.hotstarext.com/web-assets/prod/images/lock.svg",alt:""})),i()("span",{className:"title"},void 0,Object(X.e)("web__info__ums__PARENTAL_LOCK")),i()("span",{className:"subtitle"},void 0,Object(X.e)("web__info__ums__PlEASE_ENTER_YOUR_FOUR_DIGIT_PIN_TO_CONTINUE_WATCHING")),t||(t=i()(H.a,{onChange:N})),i()(Z.a,{className:"forgot-pin-link",to:"".concat(y,"?mode=").concat($.a.UPDATE_PROFILE_PIN)},void 0,Object(X.e)("web__info__ums__FORGOT_PIN")),_?i()("div",{className:"error-container"},void 0,Object(X.d)("web__err__ums__INCORRECT_INPUT_PLEASE_ENTER_A_VALID_CHARACTER_FROM_ZERO_TO_NINE")):f.error?i()("div",{className:"error-container"},void 0,f.error):null,i()("button",{type:"button",onClick:C,disabled:x,className:E},void 0," ",Object(X.e)("web__info__home__CONTINUE")," ",T||(T=i()("i",{className:"fa fa-angle-right"})))):null,displayState:c.visible,isClosable:!1}))}));t.default=function(e){return c.canUseDOM?i()("div",{className:"sign-in-container"},void 0,i()(s.a,{stores:{globalStore:p.a,parentalLockStore:M},actions:{globalAction:d.a,parentalLockAction:E.a,menuActions:j.a}},void 0,r.a.createElement(ee,e))):null}}}]);